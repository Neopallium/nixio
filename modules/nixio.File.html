<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/CHANGELOG.html">CHANGELOG</a></li>
  <li><a href="../modules/README.html">README</a></li>
  <li><a href="../modules/nixio.CryptoHash.html">nixio.CryptoHash</a></li>
  <li><strong>nixio.File</strong></li>
  <li><a href="../modules/nixio.Socket.html">nixio.Socket</a></li>
  <li><a href="../modules/nixio.TLSContext.html">nixio.TLSContext</a></li>
  <li><a href="../modules/nixio.TLSSocket.html">nixio.TLSSocket</a></li>
  <li><a href="../modules/nixio.UnifiedIO.html">nixio.UnifiedIO</a></li>
  <li><a href="../modules/nixio.bin.html">nixio.bin</a></li>
  <li><a href="../modules/nixio.bit.html">nixio.bit</a></li>
  <li><a href="../modules/nixio.crypto.html">nixio.crypto</a></li>
  <li><a href="../modules/nixio.fs.html">nixio.fs</a></li>
  <li><a href="../modules/nixio.html">nixio</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>nixio.File</code></h1>
<p>Large File Object.</p>
<p>
 Large file operations are supported up to 52 bits if the Lua number type is
 double (default).</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#write">write (buffer, offset, length)</a></td>
	<td class="summary">Write to the file descriptor.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#read">read (length)</a></td>
	<td class="summary">Read from a file descriptor.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#seek">seek (offset, whence)</a></td>
	<td class="summary">Reposition read / write offset of the file descriptor.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tell">tell ()</a></td>
	<td class="summary">Return the current read / write offset of the file descriptor.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#sync">sync (data_only)</a></td>
	<td class="summary">Synchronizes the file with the storage device.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#lock">lock (command, length)</a></td>
	<td class="summary">Apply or test a lock on the file.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stat">stat (field)</a></td>
	<td class="summary">Get file status and attributes.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#close">close ()</a></td>
	<td class="summary">Close the file descriptor.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#fileno">fileno ()</a></td>
	<td class="summary">Get the number of the filedescriptor.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setblocking">setblocking (blocking)</a></td>
	<td class="summary">(POSIX) Set the blocking mode of the file descriptor.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "write"></a>
    <strong>write (buffer, offset, length)</strong>
    </dt>
    <dd>
    Write to the file descriptor.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">buffer</span>
        	Buffer holding the data to be written.
        </li>
        <li><span class="parameter">offset</span>
        	Offset to start reading the buffer from. (optional)
        </li>
        <li><span class="parameter">length</span>
        	Length of chunk to read from the buffer. (optional)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        number of bytes written
    </ol>



    <h3>Usage:</h3>
    <ul>
        <li><pre class="example">&lt;strong&gt;Warning:&lt;/strong&gt; It is <span class="keyword">not</span> guaranteed that all data
<span class="keyword">in</span> the buffer is written at once especially when dealing with pipes.
You have to check the <span class="keyword">return</span> value - the number of bytes actually written -
<span class="keyword">or</span> use the safe IO functions <span class="keyword">in</span> the high-level IO utility <span class="global">module</span>.</pre></li>
        <li><pre class="example">Unlike standard Lua indexing the lowest offset <span class="keyword">and</span> default is <span class="number">0.</span></pre></li>
    </ul>

</dd>
    <dt>
    <a name = "read"></a>
    <strong>read (length)</strong>
    </dt>
    <dd>
    Read from a file descriptor.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">length</span>
        	Amount of data to read (in Bytes).
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        buffer containing data successfully read
    </ol>



    <h3>Usage:</h3>
    <ul>
        <li><pre class="example">&lt;strong&gt;Warning:&lt;/strong&gt; It is <span class="keyword">not</span> guaranteed that all requested data
is read at once especially when dealing with pipes.
You have to check the <span class="keyword">return</span> value - the length of the buffer actually read -
<span class="keyword">or</span> use the safe IO functions <span class="keyword">in</span> the high-level IO utility <span class="global">module</span>.</pre></li>
        <li><pre class="example">The length of the <span class="keyword">return</span> buffer is limited by <span class="function-name">the</span> (compile time)
nixio buffersize which is &lt;em&gt;nixio.const.buffersize&lt;/em&gt; (<span class="number">8192</span> by default).
Any read request greater than that will be safely truncated to this value.  </pre></li>
    </ul>

</dd>
    <dt>
    <a name = "seek"></a>
    <strong>seek (offset, whence)</strong>
    </dt>
    <dd>
    Reposition read / write offset of the file descriptor.
 The seek will be done either from the beginning of the file or relative
 to the current position or relative to the end.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">offset</span>
        	File Offset
        </li>
        <li><span class="parameter">whence</span>
        	Starting point [<strong>"set"</strong>, "cur", "end"]
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        new (absolute) offset position
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">This <span class="keyword">function</span> calls <span class="function-name">lseek</span>().</pre>
    </ul>

</dd>
    <dt>
    <a name = "tell"></a>
    <strong>tell ()</strong>
    </dt>
    <dd>
    Return the current read / write offset of the file descriptor.



    <h3>Returns:</h3>
    <ol>

        offset position
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">This <span class="keyword">function</span> calls <span class="function-name">lseek</span>() with offset <span class="number">0</span> from the current position.</pre>
    </ul>

</dd>
    <dt>
    <a name = "sync"></a>
    <strong>sync (data_only)</strong>
    </dt>
    <dd>
    Synchronizes the file with the storage device.
 Returns when the file is successfully written to the disk.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">data_only</span>
        		Do not synchronize the metadata. (optional, boolean)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true
    </ol>



    <h3>Usage:</h3>
    <ul>
        <li><pre class="example">This <span class="keyword">function</span> calls <span class="function-name">fsync</span>() when data_only equals <span class="keyword">false</span>
 otherwise <span class="function-name">fdatasync</span>(), on Windows <span class="function-name">_commit</span>() is used instead.</pre></li>
        <li><pre class="example"><span class="function-name">fdatasync</span>() is only supported by Linux <span class="keyword">and</span> Solaris. For other systems
 the &lt;em&gt;data_only&lt;/em&gt; parameter is ignored <span class="keyword">and</span> <span class="function-name">fsync</span>() is always called.</pre></li>
    </ul>

</dd>
    <dt>
    <a name = "lock"></a>
    <strong>lock (command, length)</strong>
    </dt>
    <dd>
    Apply or test a lock on the file.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">command</span>
        	Locking Command ["lock", "tlock", "ulock", "test"]
        </li>
        <li><span class="parameter">length</span>
        	Amount of Bytes to lock from current offset (optional)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true
    </ol>



    <h3>Usage:</h3>
    <ul>
        <li><pre class="example">This <span class="keyword">function</span> calls <span class="function-name">lockf</span>() on POSIX <span class="keyword">and</span> <span class="function-name">_locking</span>() on Windows.</pre></li>
        <li><pre class="example"><span class="function-name">The</span> <span class="string">"lock"</span> command is blocking, <span class="string">"tlock"</span> is non-blocking,
 <span class="string">"ulock"</span> unlocks <span class="keyword">and</span> <span class="string">"test"</span> only tests <span class="keyword">for</span> the lock.</pre></li>
        <li><pre class="example"><span class="function-name">The</span> <span class="string">"test"</span> command is <span class="keyword">not</span> available on Windows.</pre></li>
        <li><pre class="example">Locks are by default advisory on POSIX, but mandatory on Windows.</pre></li>
    </ul>

</dd>
    <dt>
    <a name = "stat"></a>
    <strong>stat (field)</strong>
    </dt>
    <dd>
    Get file status and attributes.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">field</span>
        	Only return a specific field, not the whole table (optional)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        	Table containing: <ul>
 <li>atime = Last access timestamp</li>
 <li>blksize = Blocksize (POSIX only)</li>
 <li>blocks = Blocks used (POSIX only)</li>
 <li>ctime = Creation timestamp</li>
 <li>dev = Device ID</li>
 <li>gid = Group ID</li>
 <li>ino = Inode</li>
 <li>modedec = Mode converted into a decimal number</li>
 <li>modestr = Mode as string as returned by `ls -l`</li>
 <li>mtime = Last modification timestamp</li>
 <li>nlink = Number of links</li>
 <li>rdev = Device ID (if special file)</li>
 <li>size = Size in bytes</li>
 <li>type = ["reg", "dir", "chr", "blk", "fifo", "lnk", "sock"]</li>
 <li>uid = User ID</li>
 </ul>
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">This <span class="keyword">function</span> calls <span class="function-name">fstat</span>().</pre>
    </ul>

</dd>
    <dt>
    <a name = "close"></a>
    <strong>close ()</strong>
    </dt>
    <dd>
    Close the file descriptor.



    <h3>Returns:</h3>
    <ol>

        true
    </ol>




</dd>
    <dt>
    <a name = "fileno"></a>
    <strong>fileno ()</strong>
    </dt>
    <dd>
    Get the number of the filedescriptor.



    <h3>Returns:</h3>
    <ol>

        file descriptor number
    </ol>




</dd>
    <dt>
    <a name = "setblocking"></a>
    <strong>setblocking (blocking)</strong>
    </dt>
    <dd>
    (POSIX) Set the blocking mode of the file descriptor.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">blocking</span>
        	(boolean)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-09-14 22:58:31 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
